{% extends "base.html" %}

{% block head %}
<script src="{{ url_for('auth.static', filename='verifynotify.js') }}"></script>
<script>
  $(document).ready(function() {
    $("input[type='text']:first", document.forms[0]).focus();
  });
</script>
<script>
  $(function() {
    $('[name=password_match]').keyup(function() { 
      verify.check();
    });
  });
</script>
{% endblock %}

{% block topleft %}
	<p style="color: #cccccc;" >Register (Step 1 of 2)</p>
{% endblock %}

{% block accountnav %}
	<p><a href="{{ url_for('auth.login', ext='html') }}" data-skip-pjax="true">I already have an account</a></p>
{% endblock %}

{% from 'formhelpers.html' import render_field %}

{% block content %}
<form accept-charset="UTF-8" action="{{ url_for('auth.register', ext='html') }}" method="post" name="registerform" >
  {{ render_field(form.username) }}
  {{ render_field(form.mail) }}
  {{ render_field(form.password) }}
  {{ render_field(form.password_match) }}
  <p id="passwordstate"></p>
  <div class="actions" align="right">
    <input class="button" name="commit" type="submit" value="Next step" onclick="return verify.canProceed();" />
  </div>
</form>

<script type="text/javascript">
  verify = new verifynotify();
  verify.field1 = document.registerform.password;
  verify.field2 = document.registerform.password_match;
  verify.result_id = "passwordstate";
</script>

{% endblock %}

{% block footer %}
<p>Tip: Your password on the Junction does not need to be the same as your minecraft password.</p>
{% endblock %}
